import{u as x,_ as y}from"./index.646dd0dd.js";/* empty css               *//* empty css               *//* empty css               *//* empty css               */import{g as D,b as E,e as V,f as S}from"./gallery.15a7149f.js";/* empty css              *//* empty css                *//* empty css              *//* empty css               */import{a_ as k,C as B,D as L,aI as e,G as i,aH as n,aK as c,bN as U,bO as N,aZ as O,bg as w,bP as H,b1 as T,bd as G,be as K,bh as M,bC as P,bD as Z,b7 as j,b8 as q}from"./arco.db8b656f.js";import"./chart.30ec3212.js";import"./vue.d8de27a3.js";const r=x(),z={name:"Album",data(){return{galleryId:"",albumColumns:[{title:"\u76F8\u518C\u540D",dataIndex:"album_name"},{title:"\u6807\u9898",dataIndex:"title"},{title:"\u5907\u6CE8",dataIndex:"desc"},{title:"\u56FE\u7247\u6570",dataIndex:"image_num"},{title:"\u64CD\u4F5C",slotName:"optional"}],albumList:[],isEditAlbum:!1,isDeleteAlbum:!1,editingAlbumInfo:{id:"",album_name:"",title:"",desc:""},deleteAlbumInfo:{id:"0"}}},created(){this.loadData()},methods:{loadData(){var l,t;((l=r.galleryId)==null?void 0:l.toString())!==void 0&&(this.galleryId=(t=r.galleryId)==null?void 0:t.toString()),D(this.galleryId).then(d=>{this.albumList=d.data}).catch()},openEditAlbum(l){this.editingAlbumInfo=l,this.isEditAlbum=!0},openDeleteAlbum(l){this.deleteAlbumInfo=l,this.isDeleteAlbum=!0},deleteAlbum(){E(this.deleteAlbumInfo.id).then(()=>{this.isDeleteAlbum=!1,this.loadData()}).catch()},updateAlbum(){V({id:this.editingAlbumInfo.id,album_name:this.editingAlbumInfo.album_name,title:this.editingAlbumInfo.title,desc:this.editingAlbumInfo.desc}).then(()=>{this.isEditAlbum=!1,this.loadData()}).catch()},searchAlbum(l){S(l).then(t=>{this.albumList=t.data})}}};const J=l=>(j("data-v-0ad96941"),l=l(),q(),l),Q={class:"container"},R={class:"content"},W={style:{"margin-top":"20px"}},X={class:"album-list-table"},Y=J(()=>i("div",null,"\u5220\u9664\u540E\u65E0\u6CD5\u6062\u590D\uFF0C\u786E\u8BA4\u5220\u9664\u5417\uFF1F",-1)),$={style:{"margin-right":"50px"}};function ee(l,t,d,te,u,a){const p=k("Breadcrumb"),f=U,A=N,b=O,h=w,g=H,_=T,s=G,m=K,I=M,C=P,F=Z;return B(),L("div",Q,[e(p,{items:["menu.gallery","menu.album"]},null,8,["items"]),i("div",R,[e(F,{style:{width:"100%"}},{default:n(()=>[e(A,null,{default:n(()=>[i("div",W,[e(f,{style:{width:"320px",height:"30px"},placeholder:"\u8BF7\u8F93\u5165\u76F8\u518C\u540D",onChange:a.searchAlbum,onSearch:a.searchAlbum},null,8,["onChange","onSearch"])])]),_:1}),e(C,{class:"album-list-container"},{default:n(()=>[i("div",X,[e(g,{columns:u.albumColumns,data:u.albumList},{optional:n(({record:o})=>[e(h,null,{default:n(()=>[e(b,{type:"outline",onClick:v=>a.openEditAlbum(o)},{default:n(()=>[c("\u7F16\u8F91")]),_:2},1032,["onClick"]),e(b,{type:"outline",status:"danger",onClick:v=>a.openDeleteAlbum(o)},{default:n(()=>[c("\u5220\u9664")]),_:2},1032,["onClick"])]),_:2},1024)]),_:1},8,["columns","data"])]),e(_,{visible:u.isDeleteAlbum,"onUpdate:visible":t[0]||(t[0]=o=>u.isDeleteAlbum=o),title:"\u5220\u9664\u76F8\u518C",onOk:a.deleteAlbum},{default:n(()=>[Y]),_:1},8,["visible","onOk"]),e(_,{visible:u.isEditAlbum,"onUpdate:visible":t[4]||(t[4]=o=>u.isEditAlbum=o),title:"\u7F16\u8F91\u76F8\u518C",onOk:a.updateAlbum},{default:n(()=>[i("div",$,[e(I,{model:u.editingAlbumInfo},{default:n(()=>[e(m,{field:"album_name",label:"\u76F8\u518C\u540D"},{default:n(()=>[e(s,{modelValue:u.editingAlbumInfo.album_name,"onUpdate:modelValue":t[1]||(t[1]=o=>u.editingAlbumInfo.album_name=o)},null,8,["modelValue"])]),_:1}),e(m,{field:"title",label:"\u6807\u9898"},{default:n(()=>[e(s,{modelValue:u.editingAlbumInfo.title,"onUpdate:modelValue":t[2]||(t[2]=o=>u.editingAlbumInfo.title=o)},null,8,["modelValue"])]),_:1}),e(m,{field:"description",label:"\u63CF\u8FF0"},{default:n(()=>[e(s,{modelValue:u.editingAlbumInfo.desc,"onUpdate:modelValue":t[3]||(t[3]=o=>u.editingAlbumInfo.desc=o)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])])]),_:1},8,["visible","onOk"])]),_:1})]),_:1})])])}const pe=y(z,[["render",ee],["__scopeId","data-v-0ad96941"]]);export{pe as default};
